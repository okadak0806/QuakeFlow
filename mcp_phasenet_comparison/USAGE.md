# PhaseNetæ¯”è¼ƒMCPã‚µãƒ¼ãƒãƒ¼ ä½¿ç”¨æ–¹æ³•ã‚¬ã‚¤ãƒ‰

## ðŸ“‹ ç›®æ¬¡
- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š)
- [Claude Codeã§ã®è¨­å®š](#claude-codeã§ã®è¨­å®š)
- [åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•](#åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•)
- [åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«](#åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«)
- [å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹](#å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹)
- [ãƒ‡ãƒ¼ã‚¿å½¢å¼ã¨ã‚µãƒãƒ¼ãƒˆ](#ãƒ‡ãƒ¼ã‚¿å½¢å¼ã¨ã‚µãƒãƒ¼ãƒˆ)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [é«˜åº¦ãªä½¿ç”¨æ–¹æ³•](#é«˜åº¦ãªä½¿ç”¨æ–¹æ³•)

## ðŸ“– æ¦‚è¦

PhaseNetæ¯”è¼ƒMCPã‚µãƒ¼ãƒãƒ¼ã¯ã€PhaseNetåœ°éœ‡æ¤œæ¸¬çµæžœã¨JMA/USGSãªã©ã®å‚ç…§ã‚«ã‚¿ãƒ­ã‚°ã‚’æ¯”è¼ƒæ¤œè¨¼ã™ã‚‹ãŸã‚ã®MCPï¼ˆModel Context Protocolï¼‰ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½
- ðŸŒ **å¤šæ§˜ãªã‚«ã‚¿ãƒ­ã‚°ã‚½ãƒ¼ã‚¹**: JMAã€USGSã€NCEDCã€IRISã€SCEDCã‹ã‚‰ã®åœ°éœ‡ã‚«ã‚¿ãƒ­ã‚°å–å¾—
- ðŸ“Š **ç²¾å¯†ãªãƒžãƒƒãƒãƒ³ã‚°**: æ™‚é–“ãƒ»ç©ºé–“ãƒ»ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰åŸºæº–ã§ã®é«˜ç²¾åº¦ã‚¤ãƒ™ãƒ³ãƒˆç…§åˆ
- ðŸ“ˆ **åŒ…æ‹¬çš„è©•ä¾¡**: ç²¾åº¦ã€å†ç¾çŽ‡ã€F1ã‚¹ã‚³ã‚¢ãªã©ã®è©³ç´°ãªæ€§èƒ½æŒ‡æ¨™
- ðŸ“„ **ç¾Žéº—ãªãƒ¬ãƒãƒ¼ãƒˆ**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªHTMLãƒ¬ãƒãƒ¼ãƒˆã¨å¯è¦–åŒ–
- ðŸ”„ **å®Œå…¨è‡ªå‹•åŒ–**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰è©•ä¾¡ã¾ã§ä¸€æ‹¬å®Ÿè¡Œ

## ðŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š

### 1. å¿…è¦è¦ä»¶
- Node.js (v18ä»¥ä¸Š)
- npm
- Claude Code

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
cd /path/to/QuakeFlow/mcp_phasenet_comparison

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# å‹•ä½œç¢ºèª
npm start
```

### 3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
mcp_phasenet_comparison/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js                    # ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ comparison.js           # æ¯”è¼ƒãƒ­ã‚¸ãƒƒã‚¯
â”‚       â”œâ”€â”€ catalog-downloader.js   # ã‚«ã‚¿ãƒ­ã‚°å–å¾—
â”‚       â”œâ”€â”€ event-matcher.js        # ã‚¤ãƒ™ãƒ³ãƒˆãƒžãƒƒãƒãƒ³ã‚°
â”‚       â””â”€â”€ report-generator.js     # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€â”€ sample_data/                    # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ results/                        # çµæžœå‡ºåŠ›
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ .mcp.json                      # MCPè¨­å®š
```

## ðŸ”§ Claude Codeã§ã®è¨­å®š

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«è¨­å®š
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `.mcp.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼š

```json
{
  "mcpServers": {
    "phasenet-comparison": {
      "command": "node",
      "args": ["src/index.js"],
      "cwd": ".",
      "env": {}
    }
  }
}
```

### Claude Codeè¨­å®šã®æœ‰åŠ¹åŒ–
Claude Codeã®è¨­å®šã§ä»¥ä¸‹ã‚’ç¢ºèªï¼š

```json
{
  "enableAllProjectMcpServers": true
}
```

ã¾ãŸã¯å€‹åˆ¥ã«æœ‰åŠ¹åŒ–ï¼š

```json
{
  "enabledMcpjsonServers": ["phasenet-comparison"]
}
```

## ðŸŽ¯ åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

### ã‚·ãƒ³ãƒ—ãƒ«ãªæ¯”è¼ƒå®Ÿè¡Œ

Claude Codeã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼š

```
PhaseNetã®æ¤œæ¸¬çµæžœã¨JMAã‚«ã‚¿ãƒ­ã‚°ã‚’æ¯”è¼ƒã—ãŸã„ã€‚
æ—¥æœ¬ã®é–¢æ±åœ°åŸŸã§2024å¹´1æœˆ1æ—¥ã‹ã‚‰7æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã€‚
PhaseNetã®çµæžœã¯ sample_data/phasenet_detections.csv ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã€‚
```

Claude CodeãŒè‡ªå‹•çš„ã«é©åˆ‡ãªãƒ„ãƒ¼ãƒ«ã‚’é¸æŠžã—ã€å®Œå…¨ãªæ¯”è¼ƒãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

### ã‚ˆã‚Šè©³ç´°ãªæŒ‡å®š

```
run_full_comparison ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦å®Œå…¨æ¯”è¼ƒã‚’å®Ÿè¡Œï¼š
- å‚ç…§ã‚½ãƒ¼ã‚¹: JMA
- PhaseNetãƒ•ã‚¡ã‚¤ãƒ«: /path/to/detections.csv
- æœŸé–“: 2024å¹´1æœˆ1æ—¥-7æ—¥
- åœ°åŸŸ: é–¢æ±åœ°åŸŸï¼ˆ35-36Â°N, 139-140Â°Eï¼‰
- åŽ³æ ¼ãªãƒžãƒƒãƒãƒ³ã‚°åŸºæº–ï¼ˆæ™‚é–“çª“20ç§’ã€è·é›¢5kmï¼‰
```

## ðŸ› ï¸ åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

### 1. `download_reference_catalog`
**æ©Ÿèƒ½**: å‚ç…§åœ°éœ‡ã‚«ã‚¿ãƒ­ã‚°ã®å–å¾—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "source": "jma|usgs|ncedc|iris|scedc",
  "start_time": "2024-01-01T00:00:00",
  "end_time": "2024-01-07T23:59:59",
  "min_latitude": 35.0,
  "max_latitude": 36.0,
  "min_longitude": 139.0,
  "max_longitude": 140.0,
  "min_magnitude": 2.0,
  "max_magnitude": 9.0
}
```

**ä½¿ç”¨ä¾‹**:
```
JMAã‹ã‚‰é–¢æ±åœ°åŸŸã®åœ°éœ‡ã‚«ã‚¿ãƒ­ã‚°ã‚’2024å¹´1æœˆ1é€±é–“åˆ†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
```

### 2. `load_phasenet_detections`
**æ©Ÿèƒ½**: PhaseNetæ¤œæ¸¬çµæžœã®èª­ã¿è¾¼ã¿

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "file_path": "/path/to/phasenet_results.csv",
  "format": "csv|gamma|picks"
}
```

**ä½¿ç”¨ä¾‹**:
```
PhaseNetæ¤œæ¸¬çµæžœã‚’CSVå½¢å¼ã§ /path/to/detections.csv ã‹ã‚‰èª­ã¿è¾¼ã¿
```

### 3. `match_events`
**æ©Ÿèƒ½**: ã‚¤ãƒ™ãƒ³ãƒˆé–“ã®ãƒžãƒƒãƒãƒ³ã‚°å®Ÿè¡Œ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "reference_events": "å‚ç…§ã‚¤ãƒ™ãƒ³ãƒˆã®JSONæ–‡å­—åˆ—ã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹",
  "detected_events": "æ¤œæ¸¬ã‚¤ãƒ™ãƒ³ãƒˆã®JSONæ–‡å­—åˆ—ã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹",
  "time_window": 30.0,
  "distance_threshold": 10.0,
  "magnitude_diff_threshold": 1.0
}
```

**ä½¿ç”¨ä¾‹**:
```
å‚ç…§ã‚«ã‚¿ãƒ­ã‚°ã¨æ¤œæ¸¬çµæžœã‚’ãƒžãƒƒãƒãƒ³ã‚°ã€‚æ™‚é–“çª“30ç§’ã€è·é›¢10kmã€ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰å·®1.0ã®åŸºæº–ã§
```

### 4. `calculate_performance_metrics`
**æ©Ÿèƒ½**: æ€§èƒ½æŒ‡æ¨™ã®è¨ˆç®—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "matching_results": "ãƒžãƒƒãƒãƒ³ã‚°çµæžœã®JSONæ–‡å­—åˆ—"
}
```

**ç®—å‡ºæŒ‡æ¨™**:
- ç²¾åº¦ (Precision)
- å†ç¾çŽ‡ (Recall)
- F1ã‚¹ã‚³ã‚¢
- æ¤œæ¸¬çŽ‡
- èª¤è­¦å ±çŽ‡
- æ®‹å·®çµ±è¨ˆ

### 5. `generate_comparison_report`
**æ©Ÿèƒ½**: åŒ…æ‹¬çš„HTMLãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "matching_results": "ãƒžãƒƒãƒãƒ³ã‚°çµæžœã®JSON",
  "metrics": "æ€§èƒ½æŒ‡æ¨™ã®JSON",
  "output_path": "./report.html",
  "reference_source": "å‚ç…§ã‚½ãƒ¼ã‚¹å"
}
```

**ç”Ÿæˆå†…å®¹**:
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåœ°å›³è¡¨ç¤º
- æ€§èƒ½æŒ‡æ¨™ã®å¯è¦–åŒ–
- è©³ç´°ãªã‚¤ãƒ™ãƒ³ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«
- æ®‹å·®åˆ†æžã‚°ãƒ©ãƒ•

### 6. `run_full_comparison` â­
**æ©Ÿèƒ½**: å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¸€æ‹¬å®Ÿè¡Œ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```json
{
  "reference_source": "jma|usgs|ncedc|iris|scedc",
  "phasenet_file": "/path/to/detections.csv",
  "start_time": "2024-01-01T00:00:00",
  "end_time": "2024-01-07T23:59:59",
  "region": {
    "min_latitude": 35.0,
    "max_latitude": 36.0,
    "min_longitude": 139.0,
    "max_longitude": 140.0
  },
  "output_dir": "./results",
  "matching_criteria": {
    "time_window": 30.0,
    "distance_threshold": 10.0,
    "magnitude_diff_threshold": 1.0
  }
}
```

## ðŸ“ å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹

### ä¾‹1: æ—¥æœ¬ã®åœ°éœ‡æ´»å‹•è©•ä¾¡
```
JMAã‚«ã‚¿ãƒ­ã‚°ã¨PhaseNetã®æ¯”è¼ƒï¼š
- åœ°åŸŸ: æ—¥æœ¬å…¨å›½ï¼ˆ30-46Â°N, 129-146Â°Eï¼‰
- æœŸé–“: 2024å¹´1æœˆï¼ˆ1ãƒ¶æœˆé–“ï¼‰
- æœ€å°ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 3.0
- é«˜ç²¾åº¦åŸºæº–ï¼ˆæ™‚é–“çª“15ç§’ã€è·é›¢5kmï¼‰
```

### ä¾‹2: ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢ã®åœ°éœ‡æ¤œæ¸¬æ€§èƒ½
```
USGSã‚«ã‚¿ãƒ­ã‚°ã¨PhaseNetã®æ¯”è¼ƒï¼š
- åœ°åŸŸ: ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢ï¼ˆ32-42Â°N, -125--114Â°Eï¼‰
- æœŸé–“: 2024å¹´7æœˆï¼ˆæ´»ç™ºæœŸï¼‰
- æœ€å°ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 2.5
- æ¨™æº–åŸºæº–ï¼ˆæ™‚é–“çª“30ç§’ã€è·é›¢10kmï¼‰
```

### ä¾‹3: å°è¦æ¨¡åœ°éœ‡ã®æ¤œæ¸¬èƒ½åŠ›è©•ä¾¡
```
NCEDCé«˜å¯†åº¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨PhaseNetã®æ¯”è¼ƒï¼š
- åœ°åŸŸ: ãƒ™ã‚¤ã‚¨ãƒªã‚¢ï¼ˆ37-38.5Â°N, -123--121.5Â°Eï¼‰
- æœŸé–“: 2024å¹´6æœˆï¼ˆ1é€±é–“ã®è©³ç´°åˆ†æžï¼‰
- æœ€å°ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 1.5
- åŽ³å¯†åŸºæº–ï¼ˆæ™‚é–“çª“10ç§’ã€è·é›¢3kmï¼‰
```

### ä¾‹4: è¤‡æ•°ã‚«ã‚¿ãƒ­ã‚°ã¨ã®æ¯”è¼ƒ
```bash
# JMAã¨ã®æ¯”è¼ƒ
claude: "JMAã‚«ã‚¿ãƒ­ã‚°ã¨PhaseNetæ¯”è¼ƒï¼ˆé–¢æ±ã€2024å¹´1æœˆï¼‰"

# USGSã¨ã®æ¯”è¼ƒï¼ˆåŒã˜PhaseNetãƒ‡ãƒ¼ã‚¿ï¼‰
claude: "åŒã˜PhaseNetãƒ‡ãƒ¼ã‚¿ã‚’USGSã‚«ã‚¿ãƒ­ã‚°ã¨æ¯”è¼ƒ"

# çµæžœã®æ¯”è¼ƒåˆ†æž
claude: "JMAã¨USGSã®æ¯”è¼ƒçµæžœã®å·®ç•°ã‚’åˆ†æžã—ã¦"
```

## ðŸ“Š ãƒ‡ãƒ¼ã‚¿å½¢å¼ã¨ã‚µãƒãƒ¼ãƒˆ

### ã‚µãƒãƒ¼ãƒˆã™ã‚‹å‚ç…§ã‚«ã‚¿ãƒ­ã‚°
| ã‚½ãƒ¼ã‚¹ | åœ°åŸŸ | ç‰¹å¾´ | ãƒ‡ãƒ¼ã‚¿å½¢å¼ |
|--------|------|------|-----------|
| **JMA** | æ—¥æœ¬ | é«˜ç²¾åº¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | QuakeML |
| **USGS** | å…¨ä¸–ç•Œ | åŒ…æ‹¬çš„ã€æ¨™æº–åŒ– | GeoJSON |
| **NCEDC** | åŒ—ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢ | é«˜å¯†åº¦ã€è©³ç´° | QuakeML |
| **IRIS** | å…¨ä¸–ç•Œ | ç ”ç©¶ç”¨ã€é«˜å“è³ª | QuakeML |
| **SCEDC** | å—ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢ | è©³ç´°ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | QuakeML |

### PhaseNetæ¤œæ¸¬å½¢å¼
#### CSVå½¢å¼ (æŽ¨å¥¨)
```csv
time,latitude,longitude,depth_km,magnitude,event_id
2024-01-01T12:00:00.000Z,35.6762,139.6503,10.0,4.2,evt_001
2024-01-01T15:30:00.000Z,35.2097,139.0715,15.0,3.8,evt_002
```

#### GaMMAå½¢å¼
```csv
time,latitude,longitude,depth(km),magnitude,idx
2024-01-01T12:00:00,35.6762,139.6503,10.0,4.2,1
```

#### Pickså½¢å¼
```csv
station,time,phase,probability,event_id,event_latitude,event_longitude
ABC,2024-01-01T12:00:10,P,0.95,evt_001,35.6762,139.6503
ABC,2024-01-01T12:00:15,S,0.87,evt_001,35.6762,139.6503
```

### ãƒžãƒƒãƒãƒ³ã‚°åŸºæº–ã®è¨­å®š

#### æ¨™æº–è¨­å®š (æŽ¨å¥¨)
```json
{
  "time_window": 30.0,        // Â±30ç§’
  "distance_threshold": 10.0,  // 10km
  "magnitude_diff_threshold": 1.0,  // Â±1.0
  "depth_diff_threshold": 50.0     // Â±50km
}
```

#### é«˜ç²¾åº¦è¨­å®š
```json
{
  "time_window": 15.0,        // Â±15ç§’
  "distance_threshold": 5.0,   // 5km
  "magnitude_diff_threshold": 0.5,  // Â±0.5
  "depth_diff_threshold": 25.0     // Â±25km
}
```

#### å¯›å®¹è¨­å®š
```json
{
  "time_window": 60.0,        // Â±60ç§’
  "distance_threshold": 20.0,  // 20km
  "magnitude_diff_threshold": 1.5,  // Â±1.5
  "depth_diff_threshold": 100.0    // Â±100km
}
```

## ðŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. **MCPã‚µãƒ¼ãƒãƒ¼ãŒèªè­˜ã•ã‚Œãªã„**
```bash
# .mcp.json ã®ç¢ºèª
cat .mcp.json

# ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# Claude Codeè¨­å®šã®ç¢ºèª
grep -A 5 "enableAllProjectMcpServers" ~/.claude/settings.local.json
```

#### 2. **ã‚«ã‚¿ãƒ­ã‚°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹**
```bash
# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æŽ¥ç¶šã®ç¢ºèª
curl -I https://earthquake.usgs.gov/fdsnws/event/1/query

# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®èª¿æ•´ï¼ˆæ™‚é–“ç¯„å›²ã‚’çŸ­ãã™ã‚‹ï¼‰
# 1é€±é–“ â†’ 1æ—¥ã«å¤‰æ›´

# åœ°åŸŸç¯„å›²ã®ç¢ºèªï¼ˆç·¯åº¦çµŒåº¦ã®å¦¥å½“æ€§ï¼‰
```

#### 3. **PhaseNetãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ãªã„**
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
ls -la /path/to/phasenet_file.csv

# ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ç¢ºèª
head -5 /path/to/phasenet_file.csv

# æ¨©é™ç¢ºèª
chmod 644 /path/to/phasenet_file.csv
```

#### 4. **ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼**
```bash
# å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²
split -l 1000 large_file.csv split_file_

# Node.jsãƒ¡ãƒ¢ãƒªåˆ¶é™ã®å¢—åŠ 
node --max-old-space-size=4096 src/index.js
```

#### 5. **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã®å¤±æ•—**
```bash
# å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
mkdir -p results

# æ›¸ãè¾¼ã¿æ¨©é™ã®ç¢ºèª
chmod 755 results
```

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å¯¾å‡¦æ³•

| ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | åŽŸå›  | å¯¾å‡¦æ³• |
|------------------|------|--------|
| `HTTP 404` | ã‚«ã‚¿ãƒ­ã‚°ã‚µãƒ¼ãƒãƒ¼ã®URLå¤‰æ›´ | ã‚½ãƒ¼ã‚¹è¨­å®šã®ç¢ºèª |
| `CSV parse error` | ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®å•é¡Œ | CSVå½¢å¼ã®ç¢ºèª |
| `Network timeout` | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ | æ™‚é–“ç¯„å›²ã®çŸ­ç¸® |
| `File not found` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®èª¤ã‚Š | çµ¶å¯¾ãƒ‘ã‚¹ã®ä½¿ç”¨ |
| `Permission denied` | ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ã®å•é¡Œ | chmod ã§ã‚¢ã‚¯ã‚»ã‚¹æ¨©å¤‰æ›´ |

## ðŸŽ“ é«˜åº¦ãªä½¿ç”¨æ–¹æ³•

### 1. **ãƒãƒƒãƒå‡¦ç†ã§ã®å¤§é‡æ¯”è¼ƒ**
```bash
#!/bin/bash
# è¤‡æ•°æœŸé–“ã®è‡ªå‹•æ¯”è¼ƒã‚¹ã‚¯ãƒªãƒ—ãƒˆ

regions=("japan" "california" "italy")
months=("2024-01" "2024-02" "2024-03")

for region in "${regions[@]}"; do
    for month in "${months[@]}"; do
        echo "Processing $region for $month"
        # Claude Code API call here
    done
done
```

### 2. **ã‚«ã‚¹ã‚¿ãƒ è©•ä¾¡æŒ‡æ¨™ã®è¿½åŠ **
```javascript
// ç‹¬è‡ªã®æ€§èƒ½æŒ‡æ¨™ã‚’è¿½åŠ 
const customMetrics = {
    magnitudeAccuracy: calculateMagnitudeAccuracy(matches),
    depthAccuracy: calculateDepthAccuracy(matches),
    timeAccuracy: calculateTimeAccuracy(matches)
};
```

### 3. **è¤‡æ•°PhaseNetãƒ¢ãƒ‡ãƒ«ã®æ¯”è¼ƒ**
```bash
# PhaseNet v1 vs v2 vs ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«
models=("phasenet_v1" "phasenet_v2" "custom_model")

for model in "${models[@]}"; do
    echo "Evaluating $model"
    # å„ãƒ¢ãƒ‡ãƒ«ã®çµæžœã§æ¯”è¼ƒå®Ÿè¡Œ
done
```

### 4. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **
```javascript
// å®šæœŸçš„ãªæ¯”è¼ƒå®Ÿè¡Œ
setInterval(async () => {
    const results = await runComparison({
        reference_source: 'jma',
        phasenet_file: getLatestDetections(),
        start_time: getLastHour(),
        end_time: getCurrentTime()
    });
    
    if (results.metrics.f1Score < 0.7) {
        sendAlert('Performance degradation detected');
    }
}, 3600000); // 1æ™‚é–“ã”ã¨
```

### 5. **çµ±è¨ˆçš„åˆ†æžã®æ‹¡å¼µ**
```r
# Rè¨€èªžã§ã®è©³ç´°åˆ†æž
library(ggplot2)
library(jsonlite)

# JSONãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
metrics <- fromJSON("performance_metrics.json")
matches <- fromJSON("matching_results.json")

# æ™‚ç³»åˆ—æ€§èƒ½åˆ†æž
ggplot(daily_metrics, aes(x=date, y=f1_score)) +
    geom_line() +
    geom_smooth() +
    labs(title="PhaseNet Performance Over Time")
```

## ðŸ“š å‚è€ƒè³‡æ–™

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [QuakeFlow Documentation](https://github.com/quakeflow/quakeflow)
- [PhaseNet Paper](https://doi.org/10.1029/2018JB016349)
- [MCP Protocol](https://modelcontextprotocol.io/)
- [FDSN Web Services](https://www.fdsn.org/webservices/)

### åœ°éœ‡å­¦çš„èƒŒæ™¯
- **æ¤œæ¸¬ (Detection)**: Pæ³¢ãƒ»Sæ³¢ã®åˆ°ç€æ™‚åˆ»ã®è‡ªå‹•è­˜åˆ¥
- **ãƒžã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰**: åœ°éœ‡ã®è¦æ¨¡ã‚’è¡¨ã™å¯¾æ•°ã‚¹ã‚±ãƒ¼ãƒ«
- **éœ‡æºæ±ºå®š**: åœ°éœ‡ã®ç™ºç”Ÿä½ç½®ã¨æ™‚åˆ»ã®æ±ºå®š
- **ã‚«ã‚¿ãƒ­ã‚°**: æ¤œæ¸¬çµæžœã‚’ã¾ã¨ã‚ãŸåœ°éœ‡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### æ€§èƒ½æŒ‡æ¨™ã®è§£é‡ˆ
- **ç²¾åº¦ (Precision)**: æ¤œæ¸¬ã®ä¿¡é ¼æ€§ï¼ˆèª¤æ¤œæ¸¬ã®å°‘ãªã•ï¼‰
- **å†ç¾çŽ‡ (Recall)**: æ¤œæ¸¬èƒ½åŠ›ï¼ˆè¦‹é€ƒã—ã®å°‘ãªã•ï¼‰
- **F1ã‚¹ã‚³ã‚¢**: ç²¾åº¦ã¨å†ç¾çŽ‡ã®èª¿å’Œå¹³å‡
- **ROCæ›²ç·š**: å…¨ä½“çš„ãªåˆ¤å®šæ€§èƒ½ã®è©•ä¾¡

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

### å•é¡Œå ±å‘Š
- GitHub Issues: [QuakeFlow Repository](https://github.com/quakeflow/quakeflow/issues)
- ãƒ¡ãƒ¼ãƒ«: [é–‹ç™ºãƒãƒ¼ãƒ ](mailto:support@quakeflow.org)

### è²¢çŒ®æ–¹æ³•
- ãƒã‚°å ±å‘Š
- æ©Ÿèƒ½è¦æ±‚
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ”¹å–„

---

**Â© 2024 QuakeFlow Project. ã“ã®MCPã‚µãƒ¼ãƒãƒ¼ã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚**