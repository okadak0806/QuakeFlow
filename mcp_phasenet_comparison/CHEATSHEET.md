# ğŸ“ PhaseNetæ¯”è¼ƒMCPã‚µãƒ¼ãƒãƒ¼ ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

## ğŸš€ å³åº§ã«ä½¿ãˆã‚‹Claude Codeã‚³ãƒãƒ³ãƒ‰é›†

### ğŸ“Š åŸºæœ¬çš„ãªæ¯”è¼ƒã‚³ãƒãƒ³ãƒ‰

#### 1ï¸âƒ£ ã‚·ãƒ³ãƒ—ãƒ«ãªæ¯”è¼ƒ
```
PhaseNetã¨JMAã‚«ã‚¿ãƒ­ã‚°ã‚’æ¯”è¼ƒã€‚é–¢æ±åœ°åŸŸã€2024å¹´1æœˆ1é€±é–“ã€æ¨™æº–åŸºæº–ã§å®Ÿè¡Œã€‚
```

#### 2ï¸âƒ£ è©³ç´°æŒ‡å®šã®æ¯”è¼ƒ
```
run_full_comparison ãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š
- å‚ç…§ã‚½ãƒ¼ã‚¹: USGS
- PhaseNetãƒ•ã‚¡ã‚¤ãƒ«: ./sample_data/phasenet_detections.csv
- æœŸé–“: 2024-01-01T00:00:00 ã‹ã‚‰ 2024-01-07T23:59:59
- åœ°åŸŸ: 35-36Â°N, 139-140Â°E
- å‡ºåŠ›: ./results/
```

#### 3ï¸âƒ£ é«˜ç²¾åº¦æ¯”è¼ƒ
```
å³å¯†ãªåŸºæº–ã§PhaseNetæ€§èƒ½ã‚’è©•ä¾¡ï¼š
- JMAã‚«ã‚¿ãƒ­ã‚°ã¨æ¯”è¼ƒ
- æ™‚é–“çª“: 15ç§’
- è·é›¢é–¾å€¤: 5km
- ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰å·®: 0.5
- å¯¾è±¡: é–¢æ±åœ°åŸŸã€2024å¹´1æœˆ
```

### ğŸŒ åœ°åŸŸåˆ¥ã‚³ãƒãƒ³ãƒ‰

#### æ—¥æœ¬å…¨å›½
```
PhaseNetã¨JMAã‚«ã‚¿ãƒ­ã‚°ã‚’æ—¥æœ¬å…¨å›½ã§æ¯”è¼ƒï¼š
- åœ°åŸŸ: 30-46Â°N, 129-146Â°E
- æœŸé–“: 2024å¹´8æœˆ1-7æ—¥
- æœ€å°ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 3.0
```

#### ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢
```
USGSã‚«ã‚¿ãƒ­ã‚°ã¨PhaseNetã‚’ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢ã§æ¯”è¼ƒï¼š
- åœ°åŸŸ: 32-42Â°N, -125--114Â°E
- æœŸé–“: 2024å¹´7æœˆ1ãƒ¶æœˆ
- æœ€å°ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 2.5
```

#### ãƒ™ã‚¤ã‚¨ãƒªã‚¢ï¼ˆé«˜å¯†åº¦ï¼‰
```
NCEDCã‚«ã‚¿ãƒ­ã‚°ã¨PhaseNetã‚’ãƒ™ã‚¤ã‚¨ãƒªã‚¢ã§é«˜ç²¾åº¦æ¯”è¼ƒï¼š
- åœ°åŸŸ: 37-38.5Â°N, -123--121.5Â°E
- æœŸé–“: 2024å¹´6æœˆ1é€±é–“
- æœ€å°ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 1.5
- é«˜ç²¾åº¦åŸºæº–: æ™‚é–“10ç§’ã€è·é›¢3km
```

### ğŸ“… æœŸé–“åˆ¥ã‚³ãƒãƒ³ãƒ‰

#### çŸ­æœŸé–“ï¼ˆé«˜ç²¾åº¦ï¼‰
```
1æ—¥é–“ã®è©³ç´°åˆ†æï¼š
- æœŸé–“: 2024-08-15T00:00:00 ã‹ã‚‰ 2024-08-15T23:59:59
- åœ°åŸŸ: é–¢æ±
- å…¨ã¦ã®ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰ï¼ˆ1.0ä»¥ä¸Šï¼‰
- è¶…é«˜ç²¾åº¦: æ™‚é–“5ç§’ã€è·é›¢1km
```

#### ä¸­æœŸé–“ï¼ˆæ¨™æº–ï¼‰
```
1é€±é–“ã®æ¨™æº–åˆ†æï¼š
- æœŸé–“: 2024-08-01 ã‹ã‚‰ 2024-08-07
- åœ°åŸŸ: é–¢è¥¿ï¼ˆ34-35Â°N, 135-136Â°Eï¼‰
- ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰2.0ä»¥ä¸Š
- æ¨™æº–åŸºæº–: æ™‚é–“30ç§’ã€è·é›¢10km
```

#### é•·æœŸé–“ï¼ˆæ¦‚è¦ï¼‰
```
1ãƒ¶æœˆé–“ã®æ¦‚è¦åˆ†æï¼š
- æœŸé–“: 2024-07-01 ã‹ã‚‰ 2024-07-31
- åœ°åŸŸ: ä¹å·ï¼ˆ31-34Â°N, 129-132Â°Eï¼‰
- ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰3.0ä»¥ä¸Š
- å¯›å®¹åŸºæº–: æ™‚é–“60ç§’ã€è·é›¢20km
```

### ğŸ”§ å€‹åˆ¥ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ä¾‹

#### ã‚«ã‚¿ãƒ­ã‚°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®ã¿
```
download_reference_catalog ãƒ„ãƒ¼ãƒ«ã§JMAã‚«ã‚¿ãƒ­ã‚°ã‚’å–å¾—ï¼š
- åœ°åŸŸ: 35-36Â°N, 139-140Â°E
- æœŸé–“: 2024-08-01T00:00:00 ã‹ã‚‰ 2024-08-07T23:59:59
- ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰: 2.0-9.0
```

#### PhaseNetèª­ã¿è¾¼ã¿ã®ã¿
```
load_phasenet_detections ãƒ„ãƒ¼ãƒ«ã§CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ï¼š
- ãƒ•ã‚¡ã‚¤ãƒ«: ./my_data/phasenet_results.csv
- å½¢å¼: CSV
```

#### ãƒãƒƒãƒãƒ³ã‚°ã®ã¿
```
match_events ãƒ„ãƒ¼ãƒ«ã§ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒƒãƒãƒ³ã‚°ï¼š
- å‚ç…§ã‚¤ãƒ™ãƒ³ãƒˆ: [å‰å›ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJMAãƒ‡ãƒ¼ã‚¿ã®JSON]
- æ¤œæ¸¬ã‚¤ãƒ™ãƒ³ãƒˆ: [å‰å›èª­ã¿è¾¼ã‚“ã PhaseNetãƒ‡ãƒ¼ã‚¿ã®JSON]
- æ™‚é–“çª“: 45ç§’
- è·é›¢: 15km
```

### ğŸ“Š åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

#### åŸºæœ¬ãƒ¬ãƒãƒ¼ãƒˆ
```
generate_comparison_report ãƒ„ãƒ¼ãƒ«ã§HTMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼š
- ãƒãƒƒãƒãƒ³ã‚°çµæœ: [å‰å›ã®ãƒãƒƒãƒãƒ³ã‚°çµæœJSON]
- æ€§èƒ½æŒ‡æ¨™: [å‰å›ã®æ€§èƒ½æŒ‡æ¨™JSON]
- å‡ºåŠ›ãƒ‘ã‚¹: ./reports/detailed_report.html
- å‚ç…§ã‚½ãƒ¼ã‚¹: JMA
```

#### æ€§èƒ½æŒ‡æ¨™ã®ã¿
```
calculate_performance_metrics ãƒ„ãƒ¼ãƒ«ã§æ€§èƒ½æŒ‡æ¨™è¨ˆç®—ï¼š
- ãƒãƒƒãƒãƒ³ã‚°çµæœ: [ãƒãƒƒãƒãƒ³ã‚°çµæœã®JSONæ–‡å­—åˆ—]
```

### ğŸ” ç‰¹æ®Šãªæ¯”è¼ƒã‚³ãƒãƒ³ãƒ‰

#### è¤‡æ•°ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰ç¯„å›²
```
ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰åˆ¥ã«PhaseNetæ€§èƒ½ã‚’è©•ä¾¡ï¼š
1. M1.0-2.0: å¾®å°åœ°éœ‡ã®æ¤œæ¸¬èƒ½åŠ›
2. M2.0-4.0: å°åœ°éœ‡ã®æ¤œæ¸¬ç²¾åº¦  
3. M4.0ä»¥ä¸Š: å¤§ããªåœ°éœ‡ã®æ¤œæ¸¬å“è³ª

ãã‚Œãã‚ŒJMAã‚«ã‚¿ãƒ­ã‚°ã¨æ¯”è¼ƒã—ã¦ãã ã•ã„ã€‚
```

#### æ™‚é–“å¸¯åˆ¥åˆ†æ
```
æ™‚é–“å¸¯åˆ¥ã®PhaseNetæ€§èƒ½åˆ†æï¼š
- å¤œé–“: 00:00-06:00
- æ˜¼é–“: 06:00-18:00  
- å¤•æ–¹: 18:00-24:00

å„æ™‚é–“å¸¯ã§USGSã‚«ã‚¿ãƒ­ã‚°ã¨æ¯”è¼ƒã—ã¦ãã ã•ã„ã€‚
```

#### æ·±åº¦åˆ¥åˆ†æ
```
æ·±åº¦åˆ¥ã®PhaseNetæ¤œæ¸¬æ€§èƒ½ï¼š
- æµ…éƒ¨: 0-10km
- ä¸­æ·±åº¦: 10-30km
- æ·±éƒ¨: 30kmä»¥ä¸Š

JMAã‚«ã‚¿ãƒ­ã‚°ã¨æ¯”è¼ƒã—ã¦æ·±åº¦ä¾å­˜æ€§ã‚’åˆ†æã—ã¦ãã ã•ã„ã€‚
```

### âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ³ã‚°åŸºæº–

#### è¶…é«˜ç²¾åº¦è¨­å®š
```json
{
  "time_window": 5.0,
  "distance_threshold": 1.0,
  "magnitude_diff_threshold": 0.2,
  "depth_diff_threshold": 10.0
}
```

#### æ¨™æº–è¨­å®š
```json
{
  "time_window": 30.0,
  "distance_threshold": 10.0,
  "magnitude_diff_threshold": 1.0,
  "depth_diff_threshold": 50.0
}
```

#### å¯›å®¹è¨­å®š
```json
{
  "time_window": 120.0,
  "distance_threshold": 50.0,
  "magnitude_diff_threshold": 2.0,
  "depth_diff_threshold": 200.0
}
```

### ğŸŒ ä¸»è¦ãªåœ°åŸŸåº§æ¨™

| åœ°åŸŸ | ç·¯åº¦ç¯„å›² | çµŒåº¦ç¯„å›² | èª¬æ˜ |
|------|----------|----------|------|
| **é–¢æ±** | 35-36Â°N | 139-140Â°E | æ±äº¬å‘¨è¾ºã€é«˜å¯†åº¦è¦³æ¸¬ |
| **é–¢è¥¿** | 34-35Â°N | 135-136Â°E | å¤§é˜ªãƒ»äº¬éƒ½å‘¨è¾º |
| **ä¹å·** | 31-34Â°N | 129-132Â°E | ç«å±±æ´»å‹•æ´»ç™º |
| **æ±åŒ—** | 38-41Â°N | 140-142Â°E | 2011å¹´éœ‡æºåŸŸ |
| **åŒ—æµ·é“** | 42-46Â°N | 140-146Â°E | å¯’å†·åœ°è¦³æ¸¬ |
| **æ—¥æœ¬å…¨å›½** | 30-46Â°N | 129-146Â°E | å…¨åŸŸã‚«ãƒãƒ¼ |
| **ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢** | 32-42Â°N | -125--114Â°E | ç±³å›½è¥¿æµ·å²¸ |
| **ãƒ™ã‚¤ã‚¨ãƒªã‚¢** | 37-38.5Â°N | -123--121.5Â°E | ã‚µãƒ³ãƒ•ãƒ©ãƒ³ã‚·ã‚¹ã‚³å‘¨è¾º |

### ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ä¾‹

#### å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«
```bash
# PhaseNetãƒ‡ãƒ¼ã‚¿
./sample_data/phasenet_detections.csv
./data/phasenet_results_2024.csv
/path/to/your/phasenet_output.csv

# GaMMAå½¢å¼
./data/gamma_catalog.csv
./results/gamma_filtered.csv

# Pickså½¢å¼  
./picks/phasenet_picks.csv
./output/phase_picks.csv
```

#### å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
```bash
# æ¨™æº–å‡ºåŠ›
./results/
./comparison_output/
./analysis_results/

# æ—¥ä»˜åˆ¥
./results/2024-08-17/
./daily_analysis/20240817/

# åœ°åŸŸåˆ¥
./results/kanto/
./results/california/
./results/japan/
```

### ğŸš¨ ã‚¨ãƒ©ãƒ¼æ™‚ã®å¯¾å‡¦ã‚³ãƒãƒ³ãƒ‰

#### æ¥ç¶šã‚¨ãƒ©ãƒ¼
```
USGSã«æ¥ç¶šã§ããªã„å ´åˆã€IRISã‚«ã‚¿ãƒ­ã‚°ã§ä»£æ›¿å®Ÿè¡Œï¼š
- å‚ç…§ã‚½ãƒ¼ã‚¹: iris  
- åŒã˜åœ°åŸŸãƒ»æœŸé–“è¨­å®š
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¯¾ç­–ã¨ã—ã¦æœŸé–“ã‚’çŸ­ç¸®
```

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```
PhaseNetãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ãªã„å ´åˆï¼š
1. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ç¢ºèª
2. CSVå½¢å¼ã®æ¤œè¨¼
3. ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

#### ãƒ¡ãƒ¢ãƒªã‚¨ãƒ©ãƒ¼
```
å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ãƒ¡ãƒ¢ãƒªä¸è¶³ã®å ´åˆï¼š
- æœŸé–“ã‚’åˆ†å‰²ï¼ˆ1ãƒ¶æœˆâ†’1é€±é–“â†’1æ—¥ï¼‰
- åœ°åŸŸã‚’ç¸®å°
- ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰ä¸‹é™ã‚’ä¸Šã’ã‚‹
```

### ğŸ“Š çµæœã®è§£é‡ˆåŸºæº–

#### æ€§èƒ½è©•ä¾¡åŸºæº–
- **F1ã‚¹ã‚³ã‚¢ > 0.8**: å„ªç§€
- **F1ã‚¹ã‚³ã‚¢ 0.6-0.8**: è‰¯å¥½  
- **F1ã‚¹ã‚³ã‚¢ < 0.6**: è¦æ”¹å–„

#### ç²¾åº¦è©•ä¾¡
- **Precision > 0.8**: ä½èª¤è­¦å ±
- **Precision 0.5-0.8**: ä¸­ç¨‹åº¦
- **Precision < 0.5**: é«˜èª¤è­¦å ±

#### å†ç¾ç‡è©•ä¾¡
- **Recall > 0.8**: é«˜æ¤œæ¸¬ç‡
- **Recall 0.5-0.8**: ä¸­ç¨‹åº¦
- **Recall < 0.5**: ä½æ¤œæ¸¬ç‡

### ğŸ”§ ã‚ˆãä½¿ã†Bashã‚³ãƒãƒ³ãƒ‰

#### ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
```bash
# CSVãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
head -5 sample_data/phasenet_detections.csv
wc -l sample_data/phasenet_detections.csv

# çµæœãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
ls -la results/
du -sh results/*

# JSONçµæœã®æ•´å½¢è¡¨ç¤º
cat results/performance_metrics.json | jq '.'
```

#### ãƒ­ã‚°ç¢ºèª
```bash
# ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°ã®ç¢ºèª
node src/index.js 2>&1 | tee server.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®æŠ½å‡º
grep -i error server.log
grep -i warning server.log
```

#### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
```bash
# çµæœã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r results/ backup_$(date +%Y%m%d)/

# é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜
tar -czf phasenet_comparison_$(date +%Y%m%d).tar.gz results/
```

---

**ğŸ’¡ ãƒ’ãƒ³ãƒˆ**: ã“ã®ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã‚’å‚è€ƒã«ã€Claude Codeã§ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼